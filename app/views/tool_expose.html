<!--<code>{{c_tool.currentExpose}}</code>-->
<div class="container" id="create">
    <!-- Titel -->
    <div class="row">
        <div class="col-xs-12">


            <h2 ng-show="c_tool.currentExpose.id">Datensatz bearbeiten</h2>
            <h2 ng-hide="c_tool.currentExpose.id">Datensatz erstellen</h2>
        </div>
    </div>
    <!-- Breadcrump -->
    <div class="row">
        <div class="col-xs-12">
            <a ng-show="c_tool.currentExpose.geschaeftsart" ng-click="c_tool.deleteProp('geschaeftsart')">{{c_tool.currentExpose.geschaeftsart==1?'Kauf':'Miete'}}</a>
            <a ng-show="c_tool.currentExpose.objekttyp" ng-click="c_tool.deleteProp('objekttyp')">{{c_tool.currentExpose.objekttyp==1?'Haus':c_tool.currentExpose.objekttyp==2?'Wohnung':'Grundstück'}}</a>
        </div>
    </div>
    <!-- Geschäftsart -->
    <div class="row" ng-show="!c_tool.currentExpose.geschaeftsart">
        <div class="col-xs-12">
            <button ng-click="c_tool.setProp('geschaeftsart',1)">Kauf</button>
            <button ng-click="c_tool.currentExpose.geschaeftsart=2">Miete</button>
        </div>
    </div>
    <!-- Objektart -->
    <div class="row" ng-show="c_tool.currentExpose.geschaeftsart && !c_tool.currentExpose.objekttyp">
        <div class="col-xs-12">
            <button ng-click="c_tool.currentExpose.objekttyp=1">Haus</button>
            <button ng-click="c_tool.currentExpose.objekttyp=2">Wohnung</button>
            <button ng-click="c_tool.currentExpose.objekttyp=3">Grundstück</button>
        </div>
    </div>
    <!-- Objektdaten -->
    <div class="row" ng-show="c_tool.currentExpose.objekttyp && c_tool.currentExpose.geschaeftsart">
        <div class="col-xs-12">
            <form method="POST" name="form_object" role="form" ng-submit="c_tool.checkExposeForm($event);">
                <uib-accordion close-others="true" class="col-xs-12">
                    <uib-accordion-group is-open="c_tool.accExpo.statusAddress.open" ng-click="c_tool.doopen()">
                        <uib-accordion-heading>
                            Adresse
                            <i class="pull-right glyphicon"
                               ng-class="{'glyphicon-chevron-down': c_tool.accExpo.statusAddress.open, 'glyphicon-chevron-right': ! c_tool.accExpo.statusAddress.open}"></i>
                        </uib-accordion-heading>
                        <div class="row">
                            <label class="control-label col-xs-6 col-md-offset-2 col-md-4">
                                <div>
                                    <div class="text-inline">
                                        <span>Expose-ID</span>
                                    </div>
                                    <div class="text-inline form-error" ng-messages="form_object.go.$error">
                                        <div ng-messages-include="views/regForm_messages.html"></div>
                                    </div>
                                </div>
                                <input type="text" id="ex_go" name="go" placeholder="" class="form-control"
                                       ng-model="c_tool.currentExpose.go" ng-model-options="{ debounce: 500 }" required>
                            </label>
                            <label class="control-label col-xs-6 col-md-4">
                                <div>
                                    <div class="text-inline">
                                        <span>Exposé-Titel</span>
                                    </div>
                                    <div class="text-inline form-error" ng-messages="form_object.exposetitel.$error">
                                        <div ng-messages-include="views/regForm_messages.html"></div>
                                    </div>
                                </div>
                                <input type="text" name="exposetitel" placeholder="" class="form-control"
                                       ng-model="c_tool.currentExpose.exposetitel" ng-model-options="{ debounce: 500 }">
                            </label>
                        </div>
                        <div class="row" id="address">
                            <label class="control-label col-xs-8 col-md-6 col-md-offset-2">
                                <div>
                                    <div class="text-inline">
                                        <span>Strasse</span>
                                    </div>
                                    <div class="text-inline form-error" ng-messages="form_object.strasse.$error">
                                        <div ng-messages-include="views/regForm_messages.html"></div>
                                    </div>
                                </div>
                                <input type="text" name="strasse" placeholder="" class="form-control"
                                       ng-model="c_tool.currentExpose.strasse" ng-model-options="{ debounce: 500 }">
                            </label>
                            <label class="control-label col-xs-4 col-md-2">
                                <div>
                                    <div class="text-inline">
                                        <span>Hausnummer</span>
                                    </div>
                                    <div class="text-inline form-error" ng-messages="form_object.hausnummer.$error">
                                        <div ng-messages-include="views/regForm_messages.html"></div>
                                    </div>
                                </div>
                                <input type="text" name="hausnummer" placeholder="" class="form-control"
                                       ng-model="c_tool.currentExpose.hausnummer" ng-model-options="{ debounce: 500 }">
                            </label>
                            <label class="control-label col-xs-4 col-md-2 col-md-offset-2">
                                <div>
                                    <div class="text-inline">
                                        <span>PLZ</span>
                                    </div>
                                    <div class="text-inline form-error" ng-messages="form_object.plz.$error">
                                        <div ng-messages-include="views/exposeForm_messages.html"></div>
                                    </div>
                                </div>
                                <input type="text" name="plz" placeholder="" class="form-control"
                                       ng-model="c_tool.currentExpose.plz" ng-model-options="{ debounce: 500 }"
                                       ng-pattern="/^[0-9]{4,6}$/">
                            </label>
                            <label class="control-label col-xs-8 col-md-6">
                                <div>
                                    <div class="text-inline">
                                        <span>Ort</span>
                                    </div>
                                    <div class="text-inline form-error" ng-messages="form_object.ort.$error">
                                        <div ng-messages-include="views/regForm_messages.html"></div>
                                    </div>
                                </div>
                                <input type="text" name="ort" placeholder="" class="form-control"
                                       ng-model="c_tool.currentExpose.ort" ng-model-options="{ debounce: 500 }">
                            </label>

                            <label class="control-label col-xs-6 col-md-4 col-md-offset-2">
                                <span>Bezirk</span>
                                <input type="text" name="bezirk" placeholder="" class="form-control">
                            </label>
                            <label class="control-label col-xs-6 col-md-4">
                                <div>
                                    <div class="text-inline">
                                        <span>Ort</span>
                                    </div>
                                    <div class="text-inline form-error" ng-messages="form_object.land.$error">
                                        <div ng-messages-include="views/regForm_messages.html"></div>
                                    </div>
                                </div>
                                <select name="land" class="form-control" ng-model="c_tool.currentExpose.land"
                                        ng-model-options="{ debounce: 500 }">
                                    <option value=""></option>
                                    <option value="1" selected>Deutschland</option>
                                    <option value="2">Österreich</option>
                                    <option value="3">Schweiz</option>
                                </select>
                            </label>
                        </div>
                        <div class="row">
                            <label class="col-xs-4 col-md-2 col-md-offset-2"><span class="btn btn-danger btn"
                                                                                   style="white-space: normal;"
                                                                                   ng-click="c_tool.getMap()"> Lageplan
										erstellen</span>
                            </label>
                            <label class="col-xs-4 col-md-2" style="display: none;" id="parent_saveMap">
                                <span class="btn btn-default" style="white-space: normal;"
                                      id="saveMap"> Karte speichern</span>
                                <span class="text-success" style="display: none" id="saveMap_return">gespeichert &#10004;</span>
                            </label>

                            <div class="checkbox_custom col-xs-6 col-md-3">
                                <label class="">
                                    <input type="checkbox" name="showMap" checked="checked" id="showMap">
                                    <span>Im Exposé anzeigen</span>
                                </label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-10 col-xs-offset-1 col-md-8 col-md-offset-2">
                                <leaflet center="c_tool.mapdata.center" markers="c_tool.mapdata.markers"
                                         layers="c_tool.mapdata.layers"></leaflet>
                                {{c_tool.mapdata.center}}
                            </div>
                        </div>
                    </uib-accordion-group>
                    <uib-accordion-group is-open="c_tool.accExpo.statusKosten.open">
                        <uib-accordion-heading>
                            Kosten
                            <i class="pull-right glyphicon"
                               ng-class="{'glyphicon-chevron-down': c_tool.accExpo.statusKosten.open, 'glyphicon-chevron-right': ! c_tool.accExpo.statusKosten.open}"></i>
                        </uib-accordion-heading>
                        <div class="row" ng-if="c_tool.currentExpose.geschaeftsart==1">
                            <label class="control-label col-xs-6">
                                <div>
                                    <div class="text-inline">
                                        <span>Kaufpreis</span>
                                    </div>
                                    <div class="text-inline form-error" ng-messages="form_object.kaufpreis.$error">
                                        <div ng-messages-include="views/regForm_messages.html"></div>
                                    </div>
                                </div>
                                <input type="number" name="kaufpreis" placeholder="in €" class="form-control" step="0.01"
                                       ng-model="c_tool.currentExpose.kaufpreis" ng-model-options="{ debounce: 500 }" required>
                            </label>
                            <label class="control-label col-xs-6">
                                <div>
                                    <div class="text-inline">
                                        <span>Wohngeld</span>
                                    </div>
                                    <div class="text-inline form-error" ng-messages="form_object.wohngeld.$error">
                                        <div ng-messages-include="views/regForm_messages.html"></div>
                                    </div>
                                </div>
                                <input type="number" name="wohngeld" placeholder="in €" class="form-control" step="0.01"
                                       ng-model="c_tool.currentExpose.wohngeld" ng-model-options="{ debounce: 500 }">
                            </label>
                        </div>
                        <div class="row" ng-if="c_tool.currentExpose.geschaeftsart==2">
                            <label class="control-label col-xs-6 col-sm-4">
                                <div>
                                    <div class="text-inline">
                                        <span>Kaltmiete</span>
                                    </div>
                                    <div class="text-inline form-error" ng-messages="form_object.kaltmiete.$error">
                                        <div ng-messages-include="views/regForm_messages.html"></div>
                                    </div>
                                </div>
                                <input type="number" name="kaltmiete" placeholder="in €" class="form-control" step="0.01"
                                       ng-required="!c_tool.currentExpose.pauschalmiete"
                                       ng-model="c_tool.currentExpose.kaltmiete" ng-model-options="{ debounce: 500 }"
                                       ng-change="c_tool.clearOtherVal('kaltmiete','pauschalmiete')">
                            </label>
                            <label class="control-label col-xs-6 col-sm-4">
                                <div>
                                    <div class="text-inline">
                                        <span>Nebenkosten</span>
                                    </div>
                                    <div class="text-inline form-error" ng-messages="form_object.nebenkosten.$error">
                                        <div ng-messages-include="views/regForm_messages.html"></div>
                                    </div>
                                </div>
                                <input type="number" name="nebenkosten" placeholder="in €" class="form-control" step="0.01"
                                       ng-model="c_tool.currentExpose.nebenkosten" ng-model-options="{ debounce: 500 }"
                                       ng-change="c_tool.clearOtherVal('nebenkosten','pauschalmiete')">
                            </label>
                            <label class="control-label col-xs-6  col-sm-4" id="inputPauschalmiete">
                                <div>
                                    <div class="text-inline">
                                        <span>Pauschalmiete</span>
                                    </div>
                                    <div class="text-inline form-error" ng-messages="form_object.pauschalmiete.$error">
                                        <div ng-messages-include="views/regForm_messages.html"></div>
                                    </div>
                                </div>
                                <input type="number" name="pauschalmiete" placeholder="in €" class="form-control" step="0.01"
                                       ng-required="!c_tool.currentExpose.kaltmiete"
                                       ng-model="c_tool.currentExpose.pauschalmiete" ng-model-options="{ debounce: 500 }"
                                       ng-change="c_tool.clearOtherVal('pauschalmiete',['kaltmiete','nebenkosten'])">
                            </label>
                        </div>
                        <div class="row" ng-if="c_tool.currentExpose.geschaeftsart==2">
                            <label class="control-label col-xs-6 col-md-3">
                                <div>
                                    <div class="text-inline">
                                        <span>Provision netto</span>
                                    </div>
                                    <div class="text-inline form-error" ng-messages="form_object.provision.$error">
                                        <div ng-messages-include="views/regForm_messages.html"></div>
                                    </div>
                                </div>
                                <input type="number" name="provision" placeholder="in €" class="form-control" step="0.01"
                                       ng-required=""
                                       ng-model="c_tool.currentExpose.provision" ng-model-options="{ debounce: 500 }">
                            </label>

                            <label class="control-label col-xs-6 col-md-3">
                                <div>
                                    <div class="text-inline">
                                        <span>Einheit Prov.</span>
                                    </div>
                                    <div class="text-inline form-error" ng-messages="form_object.provisionEinheit.$error">
                                        <div ng-messages-include="views/regForm_messages.html"></div>
                                    </div>
                                </div>
                                <select name="provisionEinheit" class="form-control" ng-model="c_tool.currentExpose.provisionEinheit"
                                        ng-model-options="{ debounce: 500 }">
                                    <option value="eur">Euro</option>
                                    <option value="nkm">NKM</option>
                                </select>
                            </label>
                        </div>
                        <div class="row" ng-if="c_tool.currentExpose.geschaeftsart==1">
                            <label class="control-label col-xs-6 col-md-3">
                                <div>
                                    <div class="text-inline">
                                        <span>Kaution netto</span>
                                    </div>
                                    <div class="text-inline form-error" ng-messages="form_object.kaution.$error">
                                        <div ng-messages-include="views/regForm_messages.html"></div>
                                    </div>
                                </div>
                                <input type="number" name="kaution" placeholder="in €" class="form-control" step="0.01"
                                       ng-required=""
                                       ng-model="c_tool.currentExpose.kaution" ng-model-options="{ debounce: 500 }">
                            </label>
                            <label class="control-label col-xs-6 col-md-3">
                                <div>
                                    <div class="text-inline">
                                        <span>Einheit Kaut.</span>
                                    </div>
                                    <div class="text-inline form-error" ng-messages="form_object.kautionEinheit.$error">
                                        <div ng-messages-include="views/regForm_messages.html"></div>
                                    </div>
                                </div>
                                <select name="kautionEinheit" class="form-control" ng-model="c_tool.currentExpose.kautionEinheit"
                                        ng-model-options="{ debounce: 500 }">
                                    <option value="eur">Euro</option>
                                    <option value="nkm">NKM</option>
                                </select>
                            </label>
                        </div>

                    </uib-accordion-group>
                    <uib-accordion-group is-open="c_tool.accExpo.statusStamm.open">
                        <uib-accordion-heading>
                            Stammdaten
                            <i class="pull-right glyphicon"
                               ng-class="{'glyphicon-chevron-down': c_tool.accExpo.statusStamm.open, 'glyphicon-chevron-right': ! c_tool.accExpo.statusStamm.open}"></i>
                        </uib-accordion-heading>
                        <div class="row" ng-if="c_tool.currentExpose.geschaeftsart==1">
                        </div>
                    </uib-accordion-group>
                </uib-accordion>
            </form>
        </div>
    </div>
</div>

<!--

        {"id":"2","geschaeftsart":"2","strasse":"Schnellerstr","hausnummer":"90D","plz":"12439","ort":"Berlin","bezirk":"","land":"1","go":"123","lieferung":"0000-00-00","moebiliert":"","objekttyp":"3","lageHaus":"","lageStockwerk":"","stockwerke":"","stockwerk":"0","haustyp":"","baujahr":"","sanierung":"","renovierung":"","besonderheit":"","exposetitel":"neueingabe mit foto","provision":"","provisionEinheit":"eur","kaution":"","kautionEinheit":"eur","kaltmiete":"800","pauschalmiete":"","nebenkosten":"","kaufpreis":"","stellplatz":"","stellplatztyp":"","stellplatzkosten":"","wohnflaeche":"75","grundstueckflaeche":"","zimmer":"","schlafzimmer":"1","balkon":"","terrasse":"","aussenflaeche_balkon":"","aussenflaeche_terrasse":"","decke":"","wcgast":"","badezimmer":"","badtyp":"null","badbesonderheit":"[]","heizung":"","boden":"","kueche":"","kuecheausstattung":"","innenausstattung":"","energiewert":"","energieausweisTyp":"Bedarfsausweis","denkmalschutz":"","zustand":"","lage":"","manualTextLage":"","manualTextAusstattung":"","manualTextObjekt":"","updatedatum":"2016-07-06 17:08:29","userID":"2","map":"{\"lat\":\"52.4526587\",\"lon\":\"13.5269479\",\"zoom\":\"14\"}"}
            -->